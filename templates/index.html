<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" type="text/css" href="../static/index.css" media="screen" />

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    
    
    
    <title>Credit Card Application</title>
</head>
<body onload="setdate()">

        <div class="container">          
            
            <form  action="/" method="post" class="row g-4 needs-validation"  id="new_card_form" onsubmit="openModal()" novalidate >
                <!---->
                <h1>Apply here for a new Credit Card</h1>
                <div class="row">
                    <div class="col-md-6">
                        <label for="first_name" class="form-label">First name</label>
                        <input type="text" class="form-control" id="first_name" name="first_name" ype="text" required>
                  
                    </div>
            
                    <div class="col-md-6">
                        <label for="last_name" class="form-label">Last name</label>
                        <input type="text" class="form-control" id="last_name" name="last_name" ype="text" required>
                  
                    </div>
    
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="age" class="form-label">Age</label>
                        <input type="number" class="form-control" id="age" name="age" min="0" max="120" required>
                  
                    </div>
    
                    <div class="col-md-6">
                        <label for="code_gender" class="form-label">Gender</label>
                        <select class="form-select" name="code_gender" id="code_gender" required>
                            <option value="" selected disabled hidden>Select an option</option>
                            <option value="M" >Masculine</option>
                            <option value="F">Feminine</option>
                        </select> 
                    </div>
                </div>
    
                <div class="row">
                    <div class="col-md-4">
                        <label for="cnt_fam_members" class="form-label">Nº of family's members</label>
                        <input type="number" class="form-control" id="cnt_fam_members" name="cnt_fam_members" min="0" max="500" required>
                  
                    </div>
                    <div class="col-md-4">
                        <label for="name_family_status" class="form-label"> Family status</label>
                        <select class="form-select" aria-label="Default select example" name="name_family_status" id="name_family_status" required>
                            <option value="" hidden disabled selected value>Select an option</option>
                            <option value="Married">Married</option>
                            <option value="Widow">Widow</option>
                            <option value="Single / not married">Single / not married</option>
                            <option value="Civil marriage">Civil marriage</option>
                            <option value="Separated">Separated</option>
                        </select>     
                    </div> 
            
                    <div class="col-md-4">
                        <label for="cnt_children" class="form-label">Nº of children</label>
                        <input type="number" class="form-control" id="cnt_children" name="cnt_children" min="0" max="100" required>
                  
                    </div>
    
                </div>
                
                <div class="row">
    
                    <div class="col-md-4">
                        <label for="amt_income_total" class="form-label">Anual Income</label>
                        <input type="number" class="form-control" id="amt_income_total" name="amt_income_total" ype="number" min="0.00"  step="0.01" required>
                  
                    </div>
                    <div class="col-md-4">
                        <label for="years_employed" class="form-label">Years employed</label>
                        <input type="number" class="form-control" id="years_employed" name="years_employed" min="0" max="120" required>
                  
                    </div>
                    <div class="col-md-4">
                        <label for="name_income_type" class="form-label"> Income's main source</label>
                        <select class="form-select" aria-label="Default select example" name="name_income_type" id="name_income_type" required>
                            <option value="" hidden disabled selected value>Select an option</option>
                            <option value="Working">Working</option>
                            <option value="Pensioner">Pensioner</option>
                            <option value="Commercial associate">Commercial associate</option>
                            <option value="State servant">State servant</option>
                            <option value="Student">Student</option>
                        </select>     
                    </div>   
    
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="name_education_type" class="form-label"> Education Level</label>
                        <select class="form-select" aria-label="Default select example" name="name_education_type" id="name_education_type" required>
                            <option value="" hidden disabled selected value>Select an option</option>
                            <option value="Secondary / secondary special">Secondary / secondary special</option>
                            <option value="Higher education">Higher education</option>
                            <option value="Incomplete higher">Incomplete higher</option>
                            <option value="Lower secondary">Lower secondary</option>
                            <option value="Academic degree">Academic degree</option>
                        </select>     
                    </div> 
            
                    <div class="col-md-6">
                        <label for="name_housing_type" class="form-label"> House Type</label>
                        <select class="form-select" aria-label="Default select example" name="name_housing_type" id="name_housing_type" required>
                            <option value="" hidden disabled selected value>Select an option</option>
                            <option value="House / apartment">House / apartmen</option>
                            <option value="With parents">With parents</option>
                            <option value="Rented apartment">Rented apartment</option>
                            <option value="Municipal apartment">Municipal apartment</option>
                            <option value="Co-op apartment">Co-op apartment</option>
                            <option value="Office apartment">Office apartment</option>
                        </select>     
                    </div>
    
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label for="flag_own_car" class="form-label">Do you have car?</label>
                        <select class="form-select" aria-label="Default select example" name="flag_own_car" id="flag_own_car" required>
                            <option value="" selected disabled hidden>Select an option</option>
                            <option value="N">No</option>
                            <option value="Y">Yes</option>
                        </select>     
                    </div>
                    <div class="col-md-4">
                      <label for="flag_own_realty" class="form-label">Do you have realty?</label>
                      <select class="form-select" aria-label="Default select example" name="flag_own_realty" id="flag_own_realty" required>
                          <option value="" hidden disabled selected value>Select an option</option>
                          <option value="N">No</option>
                          <option value="Y">Yes</option>
                      </select>     
                  </div>   
                    <div class="col-md-4">
                        <label for="flag_mobil" class="form-label">Do yo have mobil phone?</label>
                        <select class="form-select" aria-label="Default select example" name="flag_mobil" id="flag_mobil" required>
                            <option value="" selected disabled hidden>Select an option</option>
                            <option value=1>Yes</option>
                        </select>     
                    </div>
    
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label for="flag_work_phone" class="form-label">Do u have a work phone?</label>
                        <select class="form-select" aria-label="Default select example" name="flag_work_phone" id="flag_work_phone" required>
                            <option value="" selected disabled hidden>Select an option</option>
                            <option value=0>No</option>
                            <option value=1>Yes</option>
                        </select>     
                    </div>
                    <div class="col-md-4">
                        <label for="flag_phone" class="form-label">Do you have a phone?</label>
                        <select class="form-select" aria-label="Default select example" name="flag_phone" id="flag_phone" required>
                            <option value="" selected disabled hidden>Select an option</option>
                            <option value=0>No</option>
                            <option value=1>Yes</option>
                        </select>     
                    </div>
                    <div class="col-md-4">
                        <label for="flag_email" class="form-label">Do you have an email?</label>
                        <select class="form-select" aria-label="Default select example" name="flag_email" id="flag_email" required>
                            <option value="" selected disabled hidden>Select an option</option>
                            <option value=0>No</option>
                            <option value=1>Yes</option>
                        </select>     
                    </div>
                </div>
               
        
               
                <div class="row">
                    <div class="col-md-4" >
                        <label for="total_months" class="form-label">Become client</label>
                        <input type="date" class="form-control" id="total_months" name="total_months" min='1900-01-01'  max = '2021-11-30' required>
                  
                    </div>
    
                </div>
                <div class="row">
                    <div class="form-check col-md-12">
                        <input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
                        <label class="form-check-label" for="invalidCheck2">
                          Agree to terms and conditions
                        </label>
                    </div>
    
                </div>
                <div class="row">
                    <button type="submit" class="btn btn-primary col-lg-5 button_form" data-toggle="modal" data-target="#spinner">Submit</button>
                    <button type="button" class="btn btn-danger col-lg-5 button_form">Cancel</button>
    
                </div>
               
              </form>
    
        </div>

        <!-- Modal  Declained HTML -->
            <div id="modal_declained" class="modal fade">
                <div class="modal-dialog modal-declained-confirm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="icon-box">
                                <i class="material-icons">&#xE5CD;</i>
                            </div>				
                            <h4 class="modal-title w-100">Sorry!</h4>	
                        </div>
                        <div class="modal-body">
                            <p class="text-center">Your credit card wasn't approved.</p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-danger btn-block" data-dismiss="modal">OK</button>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Modal Error HTML -->
            <div id="modal_error" class="modal fade">
                <div class="modal-dialog modal-error-confirm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="icon-box">
                                <i class="material-icons">&#xE86B;</i>
                                <i class="material-icons">&#xE86B;</i>
                                <i class="material-icons">&#xE645;</i>
                            </div>
                            <button type="button" class="btn-close close" data-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center">
                            <h4>Something went wrong</h4>	
                            <p>An unexpected error has occurred. Please try again later. Contact support if the error persists.</p>
                            <button class="btn btn-primary" data-dismiss="modal">Go Back</button>
                        </div>
                    </div>
                </div>
            </div>  

            <!-- Modal  Approved HTML -->
            <div id="model_approved" class="modal fade">
                <div class="modal-dialog model-approved-confirm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="icon-box">
                                <i class="material-icons">&#xE876;</i>
                            </div>				
                            <h4 class="modal-title w-100">Awesome!</h4>	
                        </div>
                        <div class="modal-body">
                            <p class="text-center">Your card was approved</p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-success btn-block" data-dismiss="modal">See your card</button>
                        </div>
                    </div>
                </div>
            </div>  
              
            <!--Spinner -->

            <div id="spinner" class="modal fade">
                <div class="modal-dialog model-approved-confirm">
                    <div class="row g-4" id="spinner_row">
                        <div class="d-flex justify-content-center">
                            <div class="spinner-border text-light" role="status">
                        </div>
                   
                        </div>
                        <div class="row g-lg-3" >
                            <div class="d-flex justify-content-center">
                                <span class="blink_me">Processing ...</span>
                            </div> 
                    </div>
        
                    </div>
            </div>

            
                  
                 
                        
                    
</body>
</html>

<script>
    
function setdate () {

    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth() + 1; //January is 0!
    var yyyy = today.getFullYear();

    if (dd < 10) {
    dd = '0' + dd;
    }

    if (mm < 10) {
    mm = '0' + mm;
    } 
        
    today = yyyy + '-' + mm + '-' + dd;
    return document.getElementById("total_months").setAttribute("max", today);
}


(function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
       
        }

        form.classList.add('was-validated')
        
        
      }, false)
    })
})()

</script>

